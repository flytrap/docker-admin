# ========== 节点标识（每台机器不同）==========
# 当前节点 ID：1、2 或 3
NODE_ID=1

# 当前节点 IP（其他节点和客户端能访问的地址）
NODE_IP=192.168.0.152

# ========== 三节点 IP（所有节点配置一致）==========
NODE1_IP=192.168.0.152
NODE2_IP=192.168.0.153
NODE3_IP=192.168.0.154
# 扩展节点（可选，添加第 4/5/6 节点时取消注释并填写，所有节点 .env 一致）
# NODE4_IP=192.168.0.155
# NODE5_IP=192.168.0.156
# NODE6_IP=192.168.0.157

# ========== etcd 集群 ==========
# 仅第一个启动的节点为 new，其余为 existing（若三节点同时首次启动可都填 new）
ETCD_INITIAL_CLUSTER_STATE=new
# 扩展节点时：新节点需设置完整列表，例如 4 节点（仅新节点 .env 中设置）
# ETCD_INITIAL_CLUSTER=etcd1=http://192.168.0.152:2380,etcd2=http://192.168.0.153:2380,etcd3=http://192.168.0.154:2380,etcd4=http://192.168.0.155:2380

# ========== VIP 与 Keepalived ==========
# 虚拟 IP，客户端连接此 IP 实现高可用
VIP=192.168.0.161
# VIP 子网前缀（如 24 表示 /24）
VIP_PREFIX=24

# VRRP 组播使用的网卡名（如 eth0、ens18），需与 NODE_IP 所在网卡一致
KEEPALIVED_INTERFACE=ens160

# VRRP 路由 ID，三节点相同
KEEPALIVED_ROUTER_ID=51

# VRRP 认证密码，三节点相同
KEEPALIVED_AUTH_PASS=secret_vrrp_pass

# ========== PostgreSQL / Patroni ==========
POSTGRES_SUPERUSER_PASSWORD=flytrap
POSTGRES_REPLICATION_PASSWORD=replicator
# ========== PGBouncer ==========
PGBOUNCER_AUTH_PASSWORD=flytrap
POSTGRESQL_PASSWORD=flytrap

# ========== 镜像 ==========
PATRONI_IMAGE=patroni:v4.1.0
PGBOUNCER_IMAGE=bitnami/pgbouncer
